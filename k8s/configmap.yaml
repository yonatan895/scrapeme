apiVersion: v1
kind: ConfigMap
metadata:
  name: scrapeme-config
  namespace: scrapeme
  labels:
    app: scrapeme
    component: config
data:
  sites.yaml: |
    sites:
      - name: quotes_toscrape
        base_url: "http://quotes.toscrape.com"
        wait_timeout_sec: 20
        page_load_timeout_sec: 30
        steps:
          - name: homepage
            goto_url: "http://quotes.toscrape.com"
            wait_xpath: ".quote"
            fields:
              - name: quotes
                xpath: ".quote"
                multiple: true
                fields:
                  - name: text
                    xpath: ".text"
                  - name: author
                    xpath: ".author"
                  - name: tags
                    xpath: ".tags .tag"
                    multiple: true
      
      - name: example_com
        base_url: "https://example.com"
        wait_timeout_sec: 15
        page_load_timeout_sec: 20
        steps:
          - name: homepage
            goto_url: "https://example.com"
            wait_xpath: "//h1"
            fields:
              - name: title
                xpath: "//h1"
              - name: description
                xpath: "//p"