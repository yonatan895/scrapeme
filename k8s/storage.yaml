# Persistent storage for ScrapeMe artifacts
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: scrapeme-artifacts-pvc
  namespace: scrapeme
  labels:
    app.kubernetes.io/name: scrapeme
    app.kubernetes.io/component: storage
  annotations:
    volume.kubernetes.io/selected-node: "node1"  # Optional: pin to specific node
spec:
  accessModes:
    - ReadWriteMany  # Multiple pods can write (adjust based on storage class)
  resources:
    requests:
      storage: 10Gi
  # storageClassName: nfs-client  # Uncomment and adjust for your cluster
  # For local development, use:
  # storageClassName: standard
  # For cloud providers:
  # storageClassName: gp2        # AWS EBS
  # storageClassName: standard   # GCP Persistent Disk
  # storageClassName: managed-premium  # Azure Premium SSD

---
# Persistent storage for ScrapeMe results
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: scrapeme-results-pvc
  namespace: scrapeme
  labels:
    app.kubernetes.io/name: scrapeme
    app.kubernetes.io/component: storage
spec:
  accessModes:
    - ReadWriteMany
  resources:
    requests:
      storage: 5Gi
  # storageClassName: nfs-client  # Uncomment and adjust for your cluster

---
# Persistent storage for Prometheus data
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: prometheus-data-pvc
  namespace: scrapeme
  labels:
    app.kubernetes.io/name: prometheus
    app.kubernetes.io/component: monitoring
spec:
  accessModes:
    - ReadWriteOnce  # Single writer for Prometheus
  resources:
    requests:
      storage: 20Gi
  # storageClassName: gp2  # Uncomment and adjust for your cluster

---
# Persistent storage for Grafana data
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: grafana-data-pvc
  namespace: scrapeme
  labels:
    app.kubernetes.io/name: grafana
    app.kubernetes.io/component: monitoring
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 2Gi
  # storageClassName: gp2  # Uncomment and adjust for your cluster
